{
  "name": "h2x-docker",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "dependencies": {
    "npm-run-all": "^4.1.5"
  },
  "devDependencies": {},
  "scripts": {
    "up": "docker-compose --profile dev up -d",
    "logs": "docker-compose logs --follow --tail=100 $npm_config_service",
    "down": "docker-compose --profile dev down",
    "build:all": "docker-compose --profile $npm_config_target build",
    "rebuild:all": "docker-compose --profile $npm_config_target build --no-cache",
    "build": "docker-compose build $npm_config_service",
    "exec": "docker-compose exec $npm_config_service bash",
    "restart": "docker-compose stop $npm_config_service && docker-compose up -d $npm_config_service",
    "clean": "rm -r dist/**",
    "login": "source config/config.env && config/config.${EnvName}.env && aws ecr get-login-password --region us-west-1 --profile ${AWSProfile} | docker login --username AWS --password-stdin ${ECR_REPOSITORY_URL}",
    "tag": "source config/config.env && source config/config.${EnvName}.env && docker tag h2x-prod-web:latest ${WEB_REMOTE_IMAGE_TAG} && docker tag h2x-prod-worker:latest ${WORKER_REMOTE_IMAGE_TAG}",
    "prep": "source config/config.env && source config/config.${EnvName}.env && mkdir -p $(dirname ${WEB_DOCKERRUN_FILE}) && mkdir -p $(dirname ${WORKER_DOCKERRUN_FILE}) && sed \"s#_IMAGE_NAME_#${WEB_REMOTE_IMAGE_TAG}#g\" Dockerrun.aws.template.json > ${WEB_DOCKERRUN_FILE} && sed \"s#_IMAGE_NAME_#${WORKER_REMOTE_IMAGE_TAG}#g\" Dockerrun.aws.template.json > ${WORKER_DOCKERRUN_FILE}",
    "push": "source config/config.env && source config/config.${EnvName}.env && docker push ${WEB_REMOTE_IMAGE_TAG} && docker push ${WORKER_REMOTE_IMAGE_TAG}",
    "publish": "source config/config.env && source config/config.${EnvName}.env && run-s tag prep push"
  },
  "author": "",
  "license": "ISC"
}
