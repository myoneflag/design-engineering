{
  "name": "h2x-docker",
  "version": "1.0.0",
  "description": "H2X docker",
  "repository": "gitlab:info892/H2X",
  "license": "UNLICENSED",
  "private": true,
  "main": "index.js",
  "dependencies": {
    "npm-run-all": "^4.1.5"
  },
  "scripts": {
    "dev:minimal": "COMPOSE_HTTP_TIMEOUT=240 docker-compose --profile minimal up --detach",
    "dev": "COMPOSE_HTTP_TIMEOUT=240 docker-compose --profile dev up --detach",
    "down": "docker-compose rm $service",
    "logs": "docker-compose logs --follow --tail=100 $service",
    "start": "docker-compose up --no-deps --detach $service",
    "stop": "docker-compose stop $service",
    "build": "docker-compose build $service",
    "rebuild": "docker-compose build --no-cache $service",
    "exec": "docker-compose exec $service bash",
    "restart": "run-s stop start",
    "down:all": "docker-compose --profile dev down",
    "stop:all": "docker-compose --profile dev stop",
    "build:all": "docker-compose --profile prod build",
    "rebuild:all": "docker-compose --profile prod build --no-cache",
    "clean": "rm -r dist/**",
    "login:aws": ". ../config/build.env && aws ecr get-login-password --region us-west-1 | docker login --username AWS --password-stdin ${ECR_REPOSITORY_URL}",
    "login:dockerhub": "docker login --username h2xbuildtest --password dockerhub101",
    "tag": ". ../config/build.env && docker tag h2x-prod-web:latest ${WEB_REMOTE_IMAGE_TAG} && docker tag h2x-prod-worker:latest ${WORKER_REMOTE_IMAGE_TAG}",
    "prep": ". ../config/build.env && mkdir -p ${WEB_DIST} && mkdir -p ${WORKER_DIST} && sed \"s#_IMAGE_NAME_#${WEB_REMOTE_IMAGE_TAG}#g\" Dockerrun.aws.template.json > ${WEB_DIST}/Dockerrun.aws.json && sed \"s#_IMAGE_NAME_#${WORKER_REMOTE_IMAGE_TAG}#g\" Dockerrun.aws.template.json > ${WORKER_DIST}/Dockerrun.aws.json",
    "push": ". ../config/build.env && docker push ${WEB_REMOTE_IMAGE_TAG} && docker push ${WORKER_REMOTE_IMAGE_TAG}",
    "publish": ". ../config/build.env && run-s tag prep push"
  }
}
